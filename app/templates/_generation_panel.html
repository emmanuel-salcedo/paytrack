<div id="generation-panel">
  <article class="card">
    <h2>Occurrence Generation</h2>
    <p class="muted">Manually run Phase 2 occurrence generation for testing.</p>
    <form
      hx-post="/admin/run-generation"
      hx-target="#generation-panel"
      hx-swap="outerHTML"
      method="post"
      class="inline-form"
    >
      <label>
        <span>Horizon (days)</span>
        <input type="number" name="horizon_days" min="1" max="365" value="{{ generation_state.horizon_days if generation_state else 90 }}">
      </label>
      <button type="submit">Run Generation</button>
    </form>
    {% if generation_state %}
      <div class="stack">
        <div class="row"><span>Range</span><strong>{{ generation_state.range_start }} â†’ {{ generation_state.range_end }}</strong></div>
        <div class="row"><span>Inserted</span><strong>{{ generation_state.generated_count }}</strong></div>
        <div class="row"><span>Skipped Existing</span><strong>{{ generation_state.skipped_existing_count }}</strong></div>
      </div>
    {% endif %}
  </article>
</div>

